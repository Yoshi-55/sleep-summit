<div class="flex justify-center gap-4 mt-10 mb-10">
  <%= button_to "就寝", sleep_records_path, method: :post, class: "btn btn-lg", disabled: @unwoken_record.present? %>
  <%= button_to "起床", (@unwoken_record ? sleep_record_path(@unwoken_record) : "#"), method: :patch, class: "btn btn-lg", disabled: @unwoken_record.nil? %>
</div>

<h2 class="text-xl font-bold mt-6">起床・睡眠グラフ</h2>
<div id="sleep-chart" data-series='<%= @series.to_json.html_safe %>'></div>

<h2 class="text-xl font-bold mt-6">睡眠/起床記録（直近7日間）</h2>
<table class="table w-full">
  <thead>
    <tr>
      <th>日付</th>
      <th>就寝時刻</th>
      <th>起床時刻</th>
      <th>累積睡眠時間（h）</th>
      <th>累積起床時間（h）</th>
    </tr>
  </thead>
  <tbody>
    <% @weekly_records.each do |record| %>
      <tr>
        <td><%= record[:day].strftime("%Y-%m-%d") %></td>
        <td><%= record[:bed_times].join(", ") %></td>
        <td><%= record[:wake_times].join(", ") %></td>
        <td><%= record[:cumulative_sleep_hours] %></td>
        <td><%= record[:cumulative_wake_hours] %></td>
      </tr>
    <% end %>
  </tbody>
</table>